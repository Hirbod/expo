{"version":3,"file":"NativeStatement.js","sourceRoot":"","sources":["../../src/next/NativeStatement.ts"],"names":[],"mappings":"","sourcesContent":["/**\n * Result of a `runAsync` call.\n */\nexport interface SQLiteRunResult {\n  /**\n   * The last inserted row ID.\n   */\n  lastInsertRowId: number;\n\n  /**\n   * The number of rows affected.\n   */\n  changes: number;\n}\n\n/**\n * Bind parameters to the prepared statement.\n * You can either pass the parameters in the following forms:\n *\n * @example\n * - A single array for unnamed parameters.\n * ```ts\n * const statement = await db.prepareAsync('SELECT * FROM test WHERE value = ? AND intValue = ?');\n * await statement.getAsync(['test1', 789]);\n * ```\n *\n * @example\n * - Variadic arguments for unnamed parameters.\n * ```ts\n * const statement = await db.prepareAsync('SELECT * FROM test WHERE value = ? AND intValue = ?');\n * await statement.getAsync('test1', 789);\n * ```\n *\n * @example\n * - A single object for [named parameters](https://www.sqlite.org/lang_expr.html)\n *\n * We support multiple named parameter forms such as `:VVV`, `@VVV`, and `$VVV`. We recommend using `$VVV` because JavaScript allows using `$` in identifiers without escaping.\n * ```ts\n * const statement = await db.prepareAsync('SELECT * FROM test WHERE value = $value AND intValue = $intValue');\n * await statement.getAsync({ $value: 'test1', $intValue: 789 });\n * ```\n */\nexport type SQLiteBindValue = string | number | null | boolean;\nexport type SQLiteBindParams = Record<string, SQLiteBindValue> | SQLiteBindValue[];\nexport type SQLiteVariadicBindParams = SQLiteBindValue[];\n\nexport type SQLiteColumnNames = string[];\nexport type SQLiteColumnValues = any[];\ntype SQLiteAnyDatabase = any;\n\n/**\n * A class that represents an instance of the SQLite statement.\n */\nexport declare class NativeStatement {\n  //#region Asynchronous API\n\n  public arrayRunAsync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): Promise<SQLiteRunResult>;\n  public objectRunAsync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): Promise<SQLiteRunResult>;\n\n  public arrayGetAsync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): Promise<SQLiteColumnValues | null | undefined>;\n  public objectGetAsync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): Promise<SQLiteColumnValues | null | undefined>;\n\n  public arrayGetAllAsync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): Promise<SQLiteColumnValues[]>;\n  public objectGetAllAsync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): Promise<SQLiteColumnValues[]>;\n\n  public getColumnNamesAsync(): Promise<SQLiteColumnNames>;\n\n  public resetAsync(database: SQLiteAnyDatabase): Promise<void>;\n  public finalizeAsync(database: SQLiteAnyDatabase): Promise<void>;\n\n  //#endregion\n\n  //#region Synchronous API\n\n  public arrayRunSync(database: SQLiteAnyDatabase, params: SQLiteBindParams): SQLiteRunResult;\n  public objectRunSync(database: SQLiteAnyDatabase, params: SQLiteBindParams): SQLiteRunResult;\n\n  public arrayGetSync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): SQLiteColumnValues | null | undefined;\n  public objectGetSync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): SQLiteColumnValues | null | undefined;\n\n  public arrayGetAllSync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): SQLiteColumnValues[];\n  public objectGetAllSync(\n    database: SQLiteAnyDatabase,\n    params: SQLiteBindParams\n  ): SQLiteColumnValues[];\n\n  public getColumnNamesSync(): string[];\n\n  public resetSync(database: SQLiteAnyDatabase): void;\n  public finalizeSync(database: SQLiteAnyDatabase): void;\n\n  //#endregion\n}\n"]}